# 2024-01-08 (Mon) : CPP

## CLASS - Function

### 함수 호출 과정
1. 스택에 함수로 전달할 매개변수와 함께 끝난 뒤 돌아갈 반환 주소값을 저장
2. 프로그램의 제어가 함수의 위치로 넘어와 함수 내에 선언된 지역 변수도 스택에 저장
3. 함수의 모든 코드를 실행
4. 실행이 전부 끝나고 반환값을 넘김
5. 프로그램의 제어는 스택에 저장된 돌아갈 반환 주소값으로 이동
6. 스택에 저장된 함수 호출 정보를 제거

### 함수의 오버로딩 (OverLoad)
- 같은 이름의 함수 정의 가능
- 인자의 자료형, 인자 개수가 달라야 함
- 예제
    ```cpp
    int Sum(int a, int b);
    float Sum(float a, float b);
    ```

### 함수 시그니처
- 함수의 원형에 명시되는 매개변수 리스트
- 두 함수의 매개변수의 개수와 타입이 같다면, 두 함수의 시그니처는 같다고 할 수 있다

### 함수의 기본 인자
- 매개변수를 전달하지 않으면 기본값으로 초기화되는 인자
- 기본값이 할당된 인자가 정의된 인자 뒤에 일반 인자를 정의할 수 없음
- 규칙
    1) 함수의 원형에서만 지정 가능
    2) 가장 오른쪽부터 시작하여 순서대로 지정 가능
    3) 가운데 인수만 별도로 지정 불가

- 예제
    ```cpp
    int Print(int age = 0, string name); // (X)

    int Print(string name, int age = 0); // (O)

    Print("홍길동", 20);
    Print("홍길동"); // age = 0으로 초기화
    ```

### 참조자
- 실제 이름 대신 사용할 수 있는 새로운 기능
- 크기가 큰 구조체와 같은 데이터를 함수의 인수로 전달해야 할 경우 사용 가능
- 클래스를 설계할 때에도 자주 사용함
- 참조자는 대상 변수와 같은 메모리 위치를 참조함
- 주의사항
    1. 참조자의 타입은 대상이 되는 변수의 타입과 동일해야 함
    2. 선언과 동시에 초기화 해야 함
    3. 한번 초기화되면 대상 변경이 불가능함.
- 함수의 인수로서 전달이 가능함
    - 함수가 참조자를 인수로 전달받으면, 참조하고 있는 변수값을 함수 내에서 조작이 가능함
    - `Call by Address`와 작동방식이 동일함 
    - 예제
        ```cpp
        int a = 0, b = 1;
        int Sum(int& a, int& b)
        {
            a += 1;
            b += 2;
            return a + b;
        }

        cout >> Sum(a,b) >> endl;
        // 출력: 3 ((0 + 1) + (1 + 2))
        
        ```
    - struct, class의 경우 포인터 지정 연산자 `->`가 아닌 `.`으로 멤버에 접근
- 참조자에 의한 전달의 특징
    - 함수 내에서 참조연산자`*`를 사용하지 않으므로 함수 내부의 코드가 깔끔하고 직관적임
    - 값에 의한 전달 방법과 같은 형태가 되어 코드를 구분하기 쉽지 않음
    - 참조 호출이 꼭 필요할 때에는 참조자보다는 포인터를 사용하는 것이 직관적임.

### Constant: 상수
- `const` 키워드를 자료형 앞에 사용
- `const` 선언이 된 변수의 경우 변수 값을 읽기만 가능, 쓰기 불가

### Inline
- 함수 호출지점에 함수의 내용을 치환해 함수 호출에 소요되는 시간을 줄여줌
- 함수 선언 앞에 `inline` 키워드 사용

### Macro
- `#define`으로 정의
- 런타임이 아닌 컴파일타임에 정의됨
- 치환의 역할만 해주므로, 연산 시 연산 우선순위 고려 필요
- Inline 함수와의 차이
    - `inline`은 단순 치환이 아닌 함수의 모든 코드를 호출된 자리에 인라인 코드로 삽입
    - 일반 함수처럼 값이나 수식을 인수로 전달할 수 있음
    - 매개변수 타입에 맞춘 자동 형변환도 지원함.
